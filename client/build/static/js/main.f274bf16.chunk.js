(this["webpackJsonpnotemaker-frontend"]=this["webpackJsonpnotemaker-frontend"]||[]).push([[0],[function(e,t){document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("create-note"),t=document.getElementById("save-note"),n=document.getElementById("note-form"),o=document.getElementById("notes-container"),a=document.getElementById("login-button"),l=document.getElementById("register-button"),c=document.getElementById("login-submit"),s=document.getElementById("register-submit"),d=document.getElementById("logout-button"),i=document.getElementById("login-form"),r=document.getElementById("register-form"),m=document.getElementById("auth-forms"),y=document.getElementById("auth-nav"),g=document.getElementById("user-nav");let u="#ffffff";const p="http://localhost:3000";async function E(){const e=await fetch("".concat(p,"/notes"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});(await e.json()).forEach((e=>f(e)))}function f(e){const t=document.createElement("div");t.className="note",t.style.backgroundColor=e.color,t.innerHTML='\n        <div class="note-header">\n          <h2>'.concat(e.title,'</h2>\n          <div class="note-tags">').concat(e.tags.join(", "),"</div>\n        </div>\n        <p>").concat(e.content,"</p>\n        ").concat(e.reminder?"<p>Reminder: ".concat(new Date(e.reminder).toLocaleString(),"</p>"):"","\n      "),o.appendChild(t)}a.addEventListener("click",(()=>{i.style.display="block",r.style.display="none"})),l.addEventListener("click",(()=>{r.style.display="block",i.style.display="none"})),c.addEventListener("click",(async()=>{const e=document.getElementById("login-username").value,t=document.getElementById("login-password").value,n=await fetch("".concat(p,"/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})});if(n.ok){const e=await n.json();localStorage.setItem("token",e.token),m.style.display="none",y.style.display="none",g.style.display="flex",E()}else alert("Login failed")})),s.addEventListener("click",(async()=>{const e=document.getElementById("register-username").value,t=document.getElementById("register-password").value,n=await fetch("".concat(p,"/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})});if(n.ok){const e=await n.json();localStorage.setItem("token",e.token),m.style.display="none",y.style.display="none",g.style.display="flex",E()}else alert("Registration failed")})),d.addEventListener("click",(()=>{localStorage.removeItem("token"),y.style.display="flex",g.style.display="none",o.innerHTML="",m.style.display="block"})),e.addEventListener("click",(()=>{n.style.display="block"})),t.addEventListener("click",(async()=>{const e=document.getElementById("note-title").value,t=document.getElementById("note-content").value,o=document.getElementById("note-tags").value.split(",").map((e=>e.trim())),a=document.getElementById("note-reminder").value,l=await fetch("".concat(p,"/notes"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({title:e,content:t,tags:o,reminder:a,color:u})});if(l.ok){f(await l.json()),n.style.display="none"}else alert("Failed to save note")})),document.querySelectorAll(".color-btn").forEach((e=>{e.addEventListener("click",(e=>{u=e.target.getAttribute("data-color")}))})),document.getElementById("view-reminders").addEventListener("click",(async function(){o.innerHTML="";const e=await fetch("".concat(p,"/notes/reminders"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});(await e.json()).forEach((e=>f(e)))})),E()}))}],[[0,1]]]);
//# sourceMappingURL=main.f274bf16.chunk.js.map